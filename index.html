<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Vaccine Code Generator</title>
        <!-- Styling -->
        <style>
            /* Button */
            .dropbtn {
                background-color: #DD1321;
                color: white;
                padding: 16px;
                font-size: 1.25rem;
                border: none;
                cursor: pointer;
            }

            /* Button on hover & focus */
            .dropbtn:hover, .dropbtn:focus {
                background-color: #0A4D8C   ;
            }

            /* Search Field */
            #name-input {
                box-sizing: border-box;
                font-size: 16px;
                padding: 14px 20px 12px 45px;
                border: none;
                border-bottom: 1px solid #ddd;
            }

            /* div to position dropdown content */
            #dropdown-content {
                position: relative;
                display: inline-block;
            }

            #name-output {
                display: inline-block;
                padding-left: 25px;
                font-size: 1.5rem;
            }

            #lot-output {
                display: inline-block;
                font-size: 1.5rem;
                padding-left: 25px;
            }

            /* Dropdown Content (hidden by defauly) */
            .dropdown-content {
                display: none;
                position: absolute;
                background-color: #f6f6f6;
                min-width: 230px;
                border: 1px solid #ddd;
                z-index: 1;
                max-height: 500px;
                overflow-y: auto;
            }

            /* Selections in dropdown */
            .dropdown-content p {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
                font-size: 1.25rem;
            }

            /* change color of selection on hover */
            .dropdown-content p:hover {
                background-color: #f1f1f1;
                cursor: pointer;
            }

            /* Show the dropdown menu (JS activates this class) */
            .show {
                display: block;
            }

            .datamatrix {
                float: left;
                padding-right: 25px;
            }

            #barcode {
                width: 100px;
            }
            
            .info-manf, .info-ndc, .info-lot, .info-exp {
                line-height: 23px;
            }

            #lot-input{
                font-size: 1.25rem;
                width: 250px;
            }

            #exp-input {
                font-size: 1.25rem;
                width: 150px;
            }

            #printing-button {
                margin-top: 50px;
                width: 165px;
                font-size: 1rem;
            }

            #print-sheet {
                display: none;
            }
        </style>
    </head>
    <body>
        <div>
            <button onclick="toggleContent()" class="dropbtn">Select Vaccine</button>
            <p id="name-output">Name: <span id='manf'></span></p>
            <div id="name-dropdown" class="dropdown-content">
                <input type="text" placeholder="Seach Vaccines..." id="name-input" onkeyup="filterFunction()">
                <p id="pfizer-bivalent" onclick="pfizerBivalent()">Pfizer Bivalent</p>
                <p id="pfizer-bivalent-peds" onclick="pfizerBivalentPeds()">Pfizer Pediatric Bivalent</p>
                <p id="moderna-bivalent" onclick="modernaBivalent()">Moderna Bivalent</p>
                <p id="pfizer" onclick="pfizer()">Pfizer</p>
                <p id="pfizer-peds" onclick="pfizerPeds()">Pfizer Pediatric</p>
                <p id="moderna" onclick="moderna()">Moderna</p>
                <p id="janssen" onclick="janssen()">Janssen</p>
                <p id="flucelvax" onclick="flucelvax()">Flucelvax</p>
                <p id="fluarix" onclick="fluarix()">Fluarix</p>
                <p id="fluzoneHD" onclick="fluzoneHD()">Fluzone HD</p>
                <p id="fluad" onclick="fluad()">Fluad</p>
                <p id ="shingrix" onclick="shingrix()">Shingrix</p>
                <p id="heplisavb" onclick="heplisavb()">Heplisav-B</p>
                <p id="twinrix" onclick="twinrix()">TwinRix</p>
                <p id="gardasil9" onclick="gardasil9()">Gardasil 9</p>
                <p id="prevnar13" onclick="prevnar13()">Prevnar 13</p>
                <p id="prevnar20" onclick="prevnar20()">Prevnar 20</p>
                <p id="pneumovax23" onclick="pneumovax23()">Pneumovax23</p>
                <p id="boostrixvial" onclick="boostrixvial()">Boostrix Vial</p>
                <p id="boostrixpfs" onclick="boostrixpfs()">Boostrix PFS</p>
            </div>

        </div>
        <div>
            <input id="lot-input" type="text" placeholder="Type lot and press enter">
            <p id="lot-output">Lot: <span id='lot'></span></p>
        </div>
        <div>
            <input type="date" id="exp-input">
        </div>
        <div>
            <button id="printing-button" onclick="printDiv('print-sheet')">Print Sheet</button>
        </div>
        <div id="print-sheet">
            <div class="datamatrix">
                <img class="barcode" src='https://barcode.tec-it.com/barcode.ashx?data=&code=DataMatrix&translate-esc=true&dmsize=Default&eclevel=L'/>
            </div>
            <div class="info-manf">
            </div>
            <div class="info-ndc">
            </div>
            <div class="info-lot">
            </div>
            <div class="info-exp">
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="datamatrix">
                <img class="barcode" src='https://barcode.tec-it.com/barcode.ashx?data=&code=DataMatrix&translate-esc=true&dmsize=Default&eclevel=L'/>
            </div>
            <div class="info-manf">
            </div>
            <div class="info-ndc">
            </div>
            <div class="info-lot">
            </div>
            <div class="info-exp">
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="datamatrix">
                <img class="barcode" src='https://barcode.tec-it.com/barcode.ashx?data=&code=DataMatrix&translate-esc=true&dmsize=Default&eclevel=L'/>
            </div>
            <div class="info-manf">
            </div>
            <div class="info-ndc">
            </div>
            <div class="info-lot">
            </div>
            <div class="info-exp">
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="datamatrix">
                <img class="barcode" src='https://barcode.tec-it.com/barcode.ashx?data=&code=DataMatrix&translate-esc=true&dmsize=Default&eclevel=L'/>
            </div>
            <div class="info-manf">
            </div>
            <div class="info-ndc">
            </div>
            <div class="info-lot">
            </div>
            <div class="info-exp">
            </div>
            <br>
            <br>
            <br>
            <br>
            <br>
            <div class="datamatrix">
                <img class="barcode" src='https://barcode.tec-it.com/barcode.ashx?data=&code=DataMatrix&translate-esc=true&dmsize=Default&eclevel=L'/>
            </div>
            <div class="info-manf">
            </div>
            <div class="info-ndc">
            </div>
            <div class="info-lot">
            </div>
            <div class="info-exp">
            </div>
        </div>
        
        <!-- Scripting -->
        <script>
            /* Main dictionary for label */
            var vac = {
                manf: null,
                ndc: null,
                lot: null,
                exp: null
            };

            /* When button clicked toggle between hiding and showing list */
            function toggleContent() {
                document.getElementById("name-dropdown").classList.toggle("show");
            }

            function filterFunction() {
                var input, filter, ul, li, p, i;
                input = document.getElementById("name-input");
                filter = input.value.toUpperCase();
                div = document.getElementById("name-dropdown");
                p = div.getElementsByTagName("p");
                for (i = 0; i < p.length; i++) {
                    txtValue = p[i].textContent || p[i].innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        p[i].style.display = "";
                    } else {
                        p[i].style.display = "none";
                    }
                }
            }

            function vacShow() {
                document.getElementById("name-dropdown").classList.add("show");
            }

            /* close dropdown after clicking outside of it */
            window.onclick = function(event) {
                if (!event.target.matches('.dropbtn')) {
                    var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                }
            }
            document.getElementById("name-dropdown").addEventListener('click', function(event){
                event.stopPropagation();
            });
        
            /* select and put vaccine manf in dictionary */
            let codeNDC = null;
            function pfizerBivalent() {
                document.getElementById('manf').innerHTML = document.getElementById('pfizer-bivalent').innerHTML;
                vac.manf = "Pfizer Bivalent";
                vac.ndc = "59267-0304-01";
                codeNDC = "5926703041";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function pfizerBivalentPeds() {
                document.getElementById('manf').innerHTML = document.getElementById('pfizer-bivalent-peds').innerHTML;
                vac.manf = "Pfizer Pediatric Bivalent";
                vac.ndc = "59267-0565-01";
                codeNDC = "5926705651";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function modernaBivalent() {
                document.getElementById('manf').innerHTML = document.getElementById('moderna-bivalent').innerHTML;
                vac.manf = "Moderna Bivalent";
                vac.ndc = "80777-0282-05";
                codeNDC = "8077728205";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function pfizer() {
                document.getElementById('manf').innerHTML = document.getElementById('pfizer').innerHTML;
                vac.manf = "Pfizer";
                vac.ndc = "59267102501";
                codeNDC = "5926710251";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }
           
            function pfizerPeds() {
                document.getElementById('manf').innerHTML = document.getElementById('pfizer-peds').innerHTML;
                vac.manf = "Pfizer Pediatric";
                vac.ndc = "59267105501";
                codeNDC = "5926710551";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function moderna() {
                document.getElementById('manf').innerHTML = document.getElementById('moderna').innerHTML;
                vac.manf = "Moderna";
                vac.ndc = "80777027310";
                codeNDC = "8077727310";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function janssen() {
                document.getElementById('manf').innerHTML = document.getElementById('janssen').innerHTML;
                vac.manf = "Janssen";
                vac.ndc = "59676058005";
                codeNDC = "5967658005";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function flucelvax() {
                document.getElementById('manf').innerHTML = document.getElementById('flucelvax').innerHTML;
                vac.manf = "Flucelvax";
                vac.ndc = "70461-0422-10";
                codeNDC = "7046142210";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function fluarix() {
                document.getElementById('manf').innerHTML = document.getElementById('fluarix').innerHTML;
                vac.manf = "Fluarix";
                vac.ndc = "58160-0890-52";
                codeNDC = "5816089052";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function fluzoneHD() {
                document.getElementById('manf').innerHTML = document.getElementById('fluzoneHD').innerHTML;
                vac.manf = "Fluzone HD";
                vac.ndc = "49281-0122-65";
                codeNDC = "4928112265";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function fluad() {
                document.getElementById('manf').innerHTML = document.getElementById('fluad').innerHTML;
                vac.manf = "Fluad";
                vac.ndc = "70461-0122-03";
                codeNDC = "7046112203";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function shingrix() {
                document.getElementById('manf').innerHTML = document.getElementById('shingrix').innerHTML;
                vac.manf = "Shingrix";
                vac.ndc = "58160-0823-11";
                codeNDC = "5816082311";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function heplisavb() {
                document.getElementById('manf').innerHTML = document.getElementById('heplisavb').innerHTML;
                vac.manf = "Heplisav-B";
                vac.ndc = "43528-0003-05";
                codeNDC = "4352800305";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function twinrix() {
                document.getElementById('manf').innerHTML = document.getElementById('twinrix').innerHTML;
                vac.manf = "TwinRix";
                vac.ndc = "58160-0815-52";
                codeNDC = "5816081552";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function gardasil9() {
                document.getElementById('manf').innerHTML = document.getElementById('gardasil9').innerHTML;
                vac.manf = "Gardasil 9";
                vac.ndc = "00006-4121-02";
                codeNDC = "0006412102";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function prevnar13() {
                document.getElementById('manf').innerHTML = document.getElementById('prevnar13').innerHTML;
                vac.manf = "Prevnar 13";
                vac.ndc = "00005-1971-02";
                codeNDC = "0005197102";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function prevnar20() {
                document.getElementById('manf').innerHTML = document.getElementById('prevnar20').innerHTML;
                vac.manf = "Prevnar 20";
                vac.ndc = "00005-2000-10";
                codeNDC = "0005200010";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function pneumovax23() {
                document.getElementById('manf').innerHTML = document.getElementById('pneumovax23').innerHTML;
                vac.manf = "Pneumovax23";
                vac.ndc = "00006-4837-03";
                codeNDC = "0006483703";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function boostrixvial() {
                document.getElementById('manf').innerHTML = document.getElementById('boostrixvial').innerHTML;
                vac.manf = "Boostrix Vial";
                vac.ndc = "58160-0842-11";
                codeNDC = "5816084211";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            function boostrixpfs() {
                document.getElementById('manf').innerHTML = document.getElementById('boostrixpfs').innerHTML;
                vac.manf = "Boostrix PFS";
                vac.ndc = "58160-0842-52";
                codeNDC = "5816084252";
                var divs = document.getElementsByClassName('info-manf');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.manf;
                })
                var NDCdivs = document.getElementsByClassName('info-ndc');
                [].slice.call(NDCdivs).forEach(function(div) {
                    div.innerHTML = vac.ndc;
                })
                var dropdowns = document.getElementsByClassName("dropdown-content");
                    var i;
                    for (i = 0; i < dropdowns.length; i++) {
                        var openDropdown = dropdowns[i];
                        if (openDropdown.classList.contains('show')) {
                            openDropdown.classList.remove('show');
                        }
                    }
                generateDataMatrix();
            }

            /* enter lot and display when done and add to dictionary */
            document.getElementById('lot-input').addEventListener('keydown', function(event) {
                if (!event) {
                    var event = window.event;
                }
                if (event.keyCode == 13) {
                    submitLot();
                }
            }, false);
            function submitLot() {
                document.getElementById('lot').innerHTML = document.getElementById('lot-input').value.toUpperCase();
                vac.lot = document.getElementById('lot').innerHTML.toUpperCase();
                document.getElementById('lot-input').value = '';
                var divs = document.getElementsByClassName('info-lot');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.lot;
                })
                generateDataMatrix();
            }
        
            /* pick exp date and add to dictionary */
            document.getElementById('exp-input').addEventListener("input", function(event){
                let dateyear = document.getElementById('exp-input').value;
                let arr = dateyear.split('-')
                let dateFormat = arr[1] + "/" + arr[2] + "/" + arr[0];
                vac.exp = dateFormat;
                var divs = document.getElementsByClassName('info-exp');
                [].slice.call(divs).forEach(function(div) {
                    div.innerHTML = vac.exp;
                })
                generateDataMatrix();
            })
        
            /*generate datamatrix from provided info on button click */
            function generateDataMatrix() {
            var dataMatrixExp = document.getElementById('exp-input').value.replace(/\-/g,'').slice(2);
            var imgs = document.getElementsByClassName('barcode');
                [].slice.call(imgs).forEach(function(img) {
                    img.src = "https://barcode.tec-it.com/barcode.ashx?data=01003" + codeNDC + "417" + dataMatrixExp + "10" + vac.lot + "|21VACGEN&code=DataMatrix&translate-esc=true&dmsize=Default&eclevel=L";
                })
            }


            /* printing function */
            function printDiv(divName) {
                if (vac.manf != null && vac.exp != null && vac.lot != null) {
                var printContents = document.getElementById(divName).innerHTML;
                var originalContents = document.body.innerHTML;
                document.body.innerHTML = printContents;
                window.print();
                window.onafterprint = location.reload();
                document.body.innerHTML = originalContents;
                } else if (vac.manf == null && vac.exp != null && vac.lot != null) {
                    alert("Please pick a vaccine")
                } else if (vac.manf != null && vac.exp == null && vac.lot != null) {
                    alert("Please select an expiration date")
                } else if (vac.manf != null && vac.exp != null && vac.lot == null) {
                    alert("Please enter a lot (type in the lot and press enter)")
                } else if (vac.manf == null && vac.exp == null && vac.lot != null) {
                    alert("Please pick a vaccine and select an expiration date")
                } else if (vac.manf == null && vac.exp != null && vac.lot == null) {
                    alert("Please pick a vaccine and enter a lot (type in the lot and press enter)")
                } else if (vac.manf != null && vac.exp == null && vac.lot == null) {
                    alert("Please select an expiration date and enter a lot (type in the lot and press enter")
                } else {
                    alert("You haven't selected anything")
                }
            }
        </script>
    </body>
</html>